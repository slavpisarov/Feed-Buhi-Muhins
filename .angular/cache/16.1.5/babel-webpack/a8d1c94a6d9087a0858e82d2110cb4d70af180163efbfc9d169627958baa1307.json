{"ast":null,"code":"import { DEFAULT_EMAIL_DOMAINS } from 'src/app/shared/constants';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../shared/validators/app-email.directive\";\nfunction RegisterComponent_ng_container_12_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 20);\n    i0.ɵɵtext(1, \"Email is required!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_ng_container_12_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 20);\n    i0.ɵɵtext(1, \"Email is not valid!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, RegisterComponent_ng_container_12_p_1_Template, 2, 0, \"p\", 19);\n    i0.ɵɵtemplate(2, RegisterComponent_ng_container_12_p_2_Template, 2, 0, \"p\", 19);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(11);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r1.errors == null ? null : _r1.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r1.errors == null ? null : _r1.errors[\"appEmailValidator\"]);\n  }\n}\nfunction RegisterComponent_ng_container_19_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 20);\n    i0.ɵɵtext(1, \"Password is required!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_ng_container_19_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 20);\n    i0.ɵɵtext(1, \"Password must be at least 4 characters!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_ng_container_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, RegisterComponent_ng_container_19_p_1_Template, 2, 0, \"p\", 19);\n    i0.ɵɵtemplate(2, RegisterComponent_ng_container_19_p_2_Template, 2, 0, \"p\", 19);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r3 = i0.ɵɵreference(18);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors == null ? null : _r3.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors == null ? null : _r3.errors[\"minlength\"]);\n  }\n}\nfunction RegisterComponent_ng_container_26_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 20);\n    i0.ɵɵtext(1, \"Passwords do not match!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_ng_container_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, RegisterComponent_ng_container_26_p_1_Template, 2, 0, \"p\", 19);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r5 = i0.ɵɵreference(25);\n    const _r3 = i0.ɵɵreference(18);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (_r5.errors == null ? null : _r5.errors[\"required\"]) || _r3.value !== _r5.value);\n  }\n}\nexport let RegisterComponent = /*#__PURE__*/(() => {\n  class RegisterComponent {\n    constructor(userService, router) {\n      this.userService = userService;\n      this.router = router;\n      this.appEmailDomains = DEFAULT_EMAIL_DOMAINS;\n    }\n    register(form) {\n      if (form.invalid) return;\n      const {\n        email,\n        password,\n        rePassword\n      } = form.value;\n      this.userService.register(email, password).subscribe(() => {\n        localStorage.setItem('[user]', JSON.stringify({\n          email\n        }));\n        this.userService.loggedIn = true;\n        this.router.navigate(['/']);\n      }, err => {\n        alert(\"Something went wrong\");\n      });\n    }\n  }\n  RegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n    return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  RegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegisterComponent,\n    selectors: [[\"app-register\"]],\n    decls: 34,\n    vars: 4,\n    consts: [[1, \"container\"], [1, \"register\", 3, \"ngSubmit\"], [\"form\", \"ngForm\"], [1, \"field\", \"field-icon\"], [\"for\", \"email\"], [1, \"fas\", \"fa-envelope\"], [\"type\", \"email\", \"name\", \"email\", \"id\", \"email\", \"placeholder\", \"slav.pisarov@gmail.com\", \"ngModel\", \"\", \"required\", \"\", 3, \"appEmail\"], [\"inputEmail\", \"ngModel\"], [4, \"ngIf\"], [\"for\", \"password\"], [1, \"fas\", \"fa-lock\"], [\"type\", \"password\", \"name\", \"password\", \"id\", \"password\", \"placeholder\", \"******\", \"ngModel\", \"\", \"required\", \"\", \"minlength\", \"4\"], [\"inputPassword\", \"ngModel\"], [\"for\", \"rePassword\"], [\"type\", \"password\", \"name\", \"rePassword\", \"id\", \"rePassword\", \"placeholder\", \"******\", \"ngModel\", \"\", \"required\", \"\"], [\"inputRePassword\", \"ngModel\"], [1, \"text-center\"], [\"id\", \"account\"], [\"routerLink\", \"/user/login\"], [\"class\", \"error\", 4, \"ngIf\"], [1, \"error\"]],\n    template: function RegisterComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r12 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1, 2);\n        i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_1_listener() {\n          i0.ɵɵrestoreView(_r12);\n          const _r0 = i0.ɵɵreference(2);\n          return i0.ɵɵresetView(ctx.register(_r0));\n        });\n        i0.ɵɵelementStart(3, \"fieldset\")(4, \"h2\");\n        i0.ɵɵtext(5, \"Registration Form\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"p\", 3)(7, \"label\", 4)(8, \"span\");\n        i0.ɵɵelement(9, \"i\", 5);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(10, \"input\", 6, 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(12, RegisterComponent_ng_container_12_Template, 3, 2, \"ng-container\", 8);\n        i0.ɵɵelementStart(13, \"p\", 3)(14, \"label\", 9)(15, \"span\");\n        i0.ɵɵelement(16, \"i\", 10);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(17, \"input\", 11, 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(19, RegisterComponent_ng_container_19_Template, 3, 2, \"ng-container\", 8);\n        i0.ɵɵelementStart(20, \"p\", 3)(21, \"label\", 13)(22, \"span\");\n        i0.ɵɵelement(23, \"i\", 10);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(24, \"input\", 14, 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(26, RegisterComponent_ng_container_26_Template, 2, 1, \"ng-container\", 8);\n        i0.ɵɵelementStart(27, \"button\");\n        i0.ɵɵtext(28, \"Create Account\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"p\", 16)(30, \"a\", 17);\n        i0.ɵɵtext(31, \"Have an account?\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"a\", 18);\n        i0.ɵɵtext(33, \"Log In\");\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(11);\n        const _r3 = i0.ɵɵreference(18);\n        const _r5 = i0.ɵɵreference(25);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"appEmail\", ctx.appEmailDomains);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", _r1.touched);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", _r3.touched);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", _r5.touched);\n      }\n    },\n    dependencies: [i3.NgIf, i2.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MinLengthValidator, i4.NgModel, i4.NgForm, i5.AppEmailDirective],\n    styles: [\"form.login[_ngcontent-%COMP%], form.register[_ngcontent-%COMP%]{width:40%;margin:2em auto 0;text-align:center}.login[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{border-radius:.3em;padding:.8em;background-color:#072b49fe}.login[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-top:0;border-bottom:none}.login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-bottom:0;padding-top:1.5rem}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:0 1 100%;border:1px solid;padding:.3em;border-left:.3em solid green;border-top-right-radius:.3em;border-bottom-right-radius:.3em;font-size:large}.login[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-color:#00acf4}.login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#00acf4;border:none;border-radius:.3em;padding:.6em 1.2em;margin-top:1.5rem;width:60%;outline:none;cursor:pointer;font-size:large}.login[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{border:1px solid;border-right:none;padding:.55em;border-top-left-radius:.3em;border-bottom-left-radius:.3em;background-color:#e9ecef}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fdfdfd}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .register[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer}.register[_ngcontent-%COMP%]   .tel[_ngcontent-%COMP%]{padding-right:.8em}.login[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;padding-bottom:0;margin-left:20px;margin-right:20px}p.error[_ngcontent-%COMP%]{text-align:left;border-radius:.3em;color:#e74444;padding-top:0;padding-left:30px}.input-error[_ngcontent-%COMP%]{border-left-color:red}h2[_ngcontent-%COMP%]{color:#00acf4;font-size:30px}#account[_ngcontent-%COMP%]{color:#00acf4;padding-right:8px;font-size:large}\"]\n  });\n  return RegisterComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}