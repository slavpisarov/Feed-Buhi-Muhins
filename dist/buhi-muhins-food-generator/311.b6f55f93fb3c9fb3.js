"use strict";(self.webpackChunkbuhi_muhins_food_generator=self.webpackChunkbuhi_muhins_food_generator||[]).push([[311],{3311:(Q,u,c)=>{c.r(u),c.d(u,{UserModule:()=>R});var p=c(6814),s=c(4670);const _=["bg","com"];var n=c(4946),d=c(9372),i=c(95);let m=(()=>{class e{constructor(){this.appEmail=[],this.validator=()=>null}validate(t){return this.validator(t)}ngOnChanges(t){const r=t.appEmail;r&&(this.validator=function O(e){const o=e.join("|"),t=new RegExp(`[^@]{5,}@(gmail|abv).(${o})$`);return r=>""===r.value||t.test(r.value)?null:{appEmailValidator:!0}}(r.currentValue))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","appEmail",""]],inputs:{appEmail:"appEmail"},features:[n._Bn([{provide:i.Cf,useExisting:e,multi:!0}]),n.TTD]}),e})();function P(e,o){1&e&&(n.TgZ(0,"p",17),n._uU(1,"Email is required!"),n.qZA())}function h(e,o){1&e&&(n.TgZ(0,"p",17),n._uU(1,"Email is not valid!"),n.qZA())}function b(e,o){if(1&e&&(n.ynx(0),n.YNc(1,P,2,0,"p",16),n.YNc(2,h,2,0,"p",16),n.BQk()),2&e){n.oxw();const t=n.MAs(11);n.xp6(1),n.Q6J("ngIf",null==t.errors?null:t.errors.required),n.xp6(1),n.Q6J("ngIf",null==t.errors?null:t.errors.appEmailValidator)}}function x(e,o){1&e&&(n.TgZ(0,"p",17),n._uU(1,"Password is required!"),n.qZA())}function v(e,o){if(1&e&&(n.ynx(0),n.YNc(1,x,2,0,"p",16),n.BQk()),2&e){n.oxw();const t=n.MAs(18);n.xp6(1),n.Q6J("ngIf",null==t.errors?null:t.errors.required)}}let Z=(()=>{class e{constructor(t,r){this.userService=t,this.router=r,this.appEmailDomains=_}login(t){if(t.invalid)return;const{email:r,password:g}=t.value;this.userService.login().subscribe(a=>{const M=Object.values(a).find(C=>C.email===r&&C.password===g);M?(console.log(M),localStorage.setItem("[user]",JSON.stringify({email:r})),this.userService.loggedIn=!0,this.router.navigate(["/"])):alert("User not found")},a=>{alert("Something went wrong")})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(d.K),n.Y36(s.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-login"]],decls:27,vars:3,consts:[[1,"container"],[1,"login",3,"ngSubmit"],["form","ngForm"],[1,"field","field-icon"],["for","email"],[1,"fas","fa-envelope"],["type","email","name","email","id","email","placeholder","slav.pisarov@gmail.com","ngModel","","required","",1,"input-error",3,"appEmail"],["inputEmail","ngModel"],[4,"ngIf"],["for","password"],[1,"fas","fa-lock"],["type","password","name","password","id","password","placeholder","******","ngModel","","required","","minlength","3"],["inputPasswprd","ngModel"],[1,"text-center"],["id","account"],["routerLink","/user/register"],["class","error",4,"ngIf"],[1,"error"]],template:function(t,r){if(1&t){const g=n.EpF();n.TgZ(0,"div",0)(1,"form",1,2),n.NdJ("ngSubmit",function(){n.CHM(g);const l=n.MAs(2);return n.KtG(r.login(l))}),n.TgZ(3,"fieldset")(4,"h2"),n._uU(5,"Login Form"),n.qZA(),n.TgZ(6,"p",3)(7,"label",4)(8,"span"),n._UZ(9,"i",5),n.qZA()(),n._UZ(10,"input",6,7),n.qZA(),n.YNc(12,b,3,2,"ng-container",8),n.TgZ(13,"p",3)(14,"label",9)(15,"span"),n._UZ(16,"i",10),n.qZA()(),n._UZ(17,"input",11,12),n.qZA(),n.YNc(19,v,2,1,"ng-container",8),n.TgZ(20,"button"),n._uU(21,"Login"),n.qZA(),n.TgZ(22,"p",13)(23,"a",14),n._uU(24,"Have an account?"),n.qZA(),n.TgZ(25,"a",15),n._uU(26,"Register"),n.qZA()()()()()}if(2&t){const g=n.MAs(11),a=n.MAs(18);n.xp6(10),n.Q6J("appEmail",r.appEmailDomains),n.xp6(2),n.Q6J("ngIf",g.touched),n.xp6(7),n.Q6J("ngIf",a.touched)}},dependencies:[p.O5,s.rH,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.wO,i.On,i.F,m],styles:["form.login[_ngcontent-%COMP%], form.register[_ngcontent-%COMP%]{width:40%;margin:0 auto;margin-top:15vh;text-align:center}.login[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{border-radius:.3em;padding:.8em;background-color:#072b49fe}.login[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-top:0;border-bottom:none}.login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-bottom:0;padding-top:1.5rem}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:0 1 100%;border:1px solid;padding:.3em;border-left:.3em solid green;border-top-right-radius:.3em;border-bottom-right-radius:.3em;font-size:large}.login[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-color:#00acf4}.login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#00acf4;border:none;border-radius:.3em;padding:.6em 1.2em;margin-top:1.5rem;width:60%;outline:none;cursor:pointer;font-size:large}.login[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{border:1px solid;border-right:none;padding:.55em;border-top-left-radius:.3em;border-bottom-left-radius:.3em;background-color:#e9ecef}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fdfdfd}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .register[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer}.register[_ngcontent-%COMP%]   .tel[_ngcontent-%COMP%]{padding-right:.8em}.login[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;padding-bottom:0;margin-left:20px;margin-right:20px}p.error[_ngcontent-%COMP%]{text-align:left;border-radius:.3em;color:#e74444;padding-top:0;padding-left:30px}.input-error[_ngcontent-%COMP%]{border-left-color:red}h2[_ngcontent-%COMP%]{color:#00acf4;font-size:30px}#account[_ngcontent-%COMP%]{color:#00acf4;padding-right:8px;font-size:large}@media only screen and (max-width: 700px){form.login[_ngcontent-%COMP%], form.register[_ngcontent-%COMP%]{width:100vw}}"]}),e})();function A(e,o){1&e&&(n.TgZ(0,"p",20),n._uU(1,"Email is required!"),n.qZA())}function w(e,o){1&e&&(n.TgZ(0,"p",20),n._uU(1,"Email is not valid!"),n.qZA())}function T(e,o){if(1&e&&(n.ynx(0),n.YNc(1,A,2,0,"p",19),n.YNc(2,w,2,0,"p",19),n.BQk()),2&e){n.oxw();const t=n.MAs(11);n.xp6(1),n.Q6J("ngIf",null==t.errors?null:t.errors.required),n.xp6(1),n.Q6J("ngIf",null==t.errors?null:t.errors.appEmailValidator)}}function U(e,o){1&e&&(n.TgZ(0,"p",20),n._uU(1,"Password is required!"),n.qZA())}function q(e,o){1&e&&(n.TgZ(0,"p",20),n._uU(1,"Password must be at least 4 characters!"),n.qZA())}function E(e,o){if(1&e&&(n.ynx(0),n.YNc(1,U,2,0,"p",19),n.YNc(2,q,2,0,"p",19),n.BQk()),2&e){n.oxw();const t=n.MAs(18);n.xp6(1),n.Q6J("ngIf",null==t.errors?null:t.errors.required),n.xp6(1),n.Q6J("ngIf",null==t.errors?null:t.errors.minlength)}}function y(e,o){1&e&&(n.TgZ(0,"p",20),n._uU(1,"Passwords do not match!"),n.qZA())}function J(e,o){if(1&e&&(n.ynx(0),n.YNc(1,y,2,0,"p",19),n.BQk()),2&e){n.oxw();const t=n.MAs(25),r=n.MAs(18);n.xp6(1),n.Q6J("ngIf",(null==t.errors?null:t.errors.required)||r.value!==t.value)}}let S=(()=>{class e{constructor(t,r){this.userService=t,this.router=r,this.appEmailDomains=_}register(t){if(t.invalid)return;const{email:r,password:g}=t.value;this.userService.register(r,g).subscribe(()=>{localStorage.setItem("[user]",JSON.stringify({email:r})),this.userService.loggedIn=!0,this.router.navigate(["/"])},l=>{alert("Something went wrong")})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(d.K),n.Y36(s.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-register"]],decls:34,vars:4,consts:[[1,"container"],[1,"register",3,"ngSubmit"],["form","ngForm"],[1,"field","field-icon"],["for","email"],[1,"fas","fa-envelope"],["type","email","name","email","id","email","placeholder","slav.pisarov@gmail.com","ngModel","","required","",3,"appEmail"],["inputEmail","ngModel"],[4,"ngIf"],["for","password"],[1,"fas","fa-lock"],["type","password","name","password","id","password","placeholder","******","ngModel","","required","","minlength","4"],["inputPassword","ngModel"],["for","rePassword"],["type","password","name","rePassword","id","rePassword","placeholder","******","ngModel","","required",""],["inputRePassword","ngModel"],[1,"text-center"],["id","account"],["routerLink","/user/login"],["class","error",4,"ngIf"],[1,"error"]],template:function(t,r){if(1&t){const g=n.EpF();n.TgZ(0,"div",0)(1,"form",1,2),n.NdJ("ngSubmit",function(){n.CHM(g);const l=n.MAs(2);return n.KtG(r.register(l))}),n.TgZ(3,"fieldset")(4,"h2"),n._uU(5,"Registration Form"),n.qZA(),n.TgZ(6,"p",3)(7,"label",4)(8,"span"),n._UZ(9,"i",5),n.qZA()(),n._UZ(10,"input",6,7),n.qZA(),n.YNc(12,T,3,2,"ng-container",8),n.TgZ(13,"p",3)(14,"label",9)(15,"span"),n._UZ(16,"i",10),n.qZA()(),n._UZ(17,"input",11,12),n.qZA(),n.YNc(19,E,3,2,"ng-container",8),n.TgZ(20,"p",3)(21,"label",13)(22,"span"),n._UZ(23,"i",10),n.qZA()(),n._UZ(24,"input",14,15),n.qZA(),n.YNc(26,J,2,1,"ng-container",8),n.TgZ(27,"button"),n._uU(28,"Create Account"),n.qZA(),n.TgZ(29,"p",16)(30,"a",17),n._uU(31,"Have an account?"),n.qZA(),n.TgZ(32,"a",18),n._uU(33,"Log In"),n.qZA()()()()()}if(2&t){const g=n.MAs(11),a=n.MAs(18),l=n.MAs(25);n.xp6(10),n.Q6J("appEmail",r.appEmailDomains),n.xp6(2),n.Q6J("ngIf",g.touched),n.xp6(7),n.Q6J("ngIf",a.touched),n.xp6(7),n.Q6J("ngIf",l.touched)}},dependencies:[p.O5,s.rH,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.wO,i.On,i.F,m],styles:["form.login[_ngcontent-%COMP%], form.register[_ngcontent-%COMP%]{width:40%;margin:0 auto;margin-top:15vh;text-align:center}.login[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{border-radius:.3em;padding:.8em;background-color:#072b49fe}.login[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-top:0;border-bottom:none}.login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-bottom:0;padding-top:1.5rem}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:0 1 100%;border:1px solid;padding:.3em;border-left:.3em solid green;border-top-right-radius:.3em;border-bottom-right-radius:.3em;font-size:large}.login[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-color:#00acf4}.login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#00acf4;border:none;border-radius:.3em;padding:.6em 1.2em;margin-top:1.5rem;width:60%;outline:none;cursor:pointer;font-size:large}.login[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{border:1px solid;border-right:none;padding:.55em;border-top-left-radius:.3em;border-bottom-left-radius:.3em;background-color:#e9ecef}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fdfdfd}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .register[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer}.register[_ngcontent-%COMP%]   .tel[_ngcontent-%COMP%]{padding-right:.8em}.login[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;padding-bottom:0;margin-left:20px;margin-right:20px}p.error[_ngcontent-%COMP%]{text-align:left;border-radius:.3em;color:#e74444;padding-top:0;padding-left:30px}.input-error[_ngcontent-%COMP%]{border-left-color:red}h2[_ngcontent-%COMP%]{color:#00acf4;font-size:30px}#account[_ngcontent-%COMP%]{color:#00acf4;padding-right:8px;font-size:large}@media only screen and (max-width: 700px){form.login[_ngcontent-%COMP%], form.register[_ngcontent-%COMP%]{width:100vw}}"]}),e})(),f=(()=>{class e{constructor(t,r){this.userService=t,this.router=r}canActivate(t,r){return!this.userService.loggedIn||(this.router.navigate(["/home"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(d.K),n.LFG(s.F0))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const I=[{path:"login",component:Z,canActivate:[f]},{path:"register",component:S,canActivate:[f]}];let L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[s.Bz.forChild(I),s.Bz]}),e})(),F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[p.ez]}),e})(),R=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[p.ez,L,i.u5,F]}),e})()}}]);